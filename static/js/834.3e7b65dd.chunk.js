"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[834],{834:function(t,e,n){n.r(e),n.d(e,{default:function(){return q}});var r,a,c,s,i=n(861),u=n(439),o=n(757),p=n.n(o),f=n(791),l="SearchMovies_form__Aa9iv",h="SearchMovies_input__1c5BI",d="SearchMovies_btnForm__SiTB-",v=n(184),m=function(t){var e=t.getMoviesName,n=(0,f.useState)(""),r=(0,u.Z)(n,2),a=r[0],c=r[1];return(0,v.jsxs)("form",{className:l,onSubmit:function(t){t.preventDefault(),e(a),c("")},children:[(0,v.jsx)("input",{className:h,type:"text",value:a,onChange:function(t){c(t.target.value)},placeholder:"Search movies"}),(0,v.jsx)("button",{className:d,type:"submit",children:"Search"})]})},x=n(768),g=n(87),y=n(689),Z=n(429),_=n(168),w=n(444),k=w.ZP.div(r||(r=(0,_.Z)(["\npadding:10px 25px;\n\n"]))),b=w.ZP.ul(a||(a=(0,_.Z)(["\n  list-style: none;\n  margin:0;\n  padding:0;\n"]))),j=w.ZP.li(c||(c=(0,_.Z)(["\nmargin-bottom:10px;"]))),S=w.ZP.div(s||(s=(0,_.Z)([" \ndisplay:flex;\ngap:10px;\nalign-items:center;\n"]))),M=function(t){var e=t.moviesData,n=(0,y.TH)();if(e)return(0,v.jsx)(k,{children:(0,v.jsx)(b,{children:e.map((function(t){var e=t.title,r=t.id,a=t.poster_path,c=t.release_date;return(0,v.jsx)(j,{children:(0,v.jsx)(g.rU,{to:"/movies/".concat(r),state:{from:n},children:(0,v.jsxs)(S,{children:[" ",(0,v.jsx)("img",{src:a?"".concat("https://image.tmdb.org/t/p/w500/").concat(a):Z,alt:e,width:"70"}),(0,v.jsx)("p",{children:"".concat(e," (").concat(c.slice(0,4),")")})]})})},r)}))})})},q=function(){var t,e=(0,f.useState)(null),n=(0,u.Z)(e,2),r=n[0],a=n[1],c=(0,f.useState)(!1),s=(0,u.Z)(c,2),o=s[0],l=s[1];console.log("moviesData",r);var h=(0,g.lr)(),d=(0,u.Z)(h,2),y=d[0],Z=d[1],_=null!==(t=y.get("query"))&&void 0!==t?t:"";return(0,f.useEffect)((function(){function t(){return(t=(0,i.Z)(p().mark((function t(){var e;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.Q1)(_);case 2:0===(e=t.sent).results.length&&l(!0),a(e.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}""!==_&&(l(!1),function(){t.apply(this,arguments)}())}),[_]),console.log(o),(0,v.jsxs)("div",{children:[(0,v.jsx)(m,{getMoviesName:function(t){Z({query:t})}}),o&&(0,v.jsx)("h2",{children:"Moveis not found, please enter correct request"}),(0,v.jsx)(M,{moviesData:r})]})}},768:function(t,e,n){n.d(e,{M1:function(){return m},Q1:function(){return Z},ZK:function(){return d},q5:function(){return g},ts:function(){return l}});var r=n(861),a=n(757),c=n.n(a),s=n(243),i="https://api.themoviedb.org/3",u="992e567e43c913ea6cedbae9c8870c1e",o="".concat(i,"/trending/movie/week"),p="".concat(i,"/search/movie"),f="".concat(i,"/movie/");function l(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={api_key:u},t.next=3,s.Z.get("".concat(o),{params:e});case 3:return n=t.sent,console.log("111111",n),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={api_key:u},t.next=3,s.Z.get("".concat(f).concat(e),{params:n});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={api_key:u},t.next=3,s.Z.get("".concat(f).concat(e,"/credits"),{params:n});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={api_key:u},t.next=3,s.Z.get("".concat(f).concat(e,"/reviews"),{params:n});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={api_key:u,query:e,page:1},t.next=3,s.Z.get("".concat(p),{params:n});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},429:function(t,e,n){t.exports=n.p+"static/media/posterPlug.fcd4e0277ea2592c9687.png"}}]);
//# sourceMappingURL=834.3e7b65dd.chunk.js.map